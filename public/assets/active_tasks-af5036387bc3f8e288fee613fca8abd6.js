(function(){var e,t,i,n,o,s;(e=function(){return $(document).ready(function(){return $("a#signout").length>0?$.ajax({type:"GET",url:"/todo/completed_tasks/"}):!0})})(),(t=function(){return $(document).ready(function(){var e;return e=$("select#new_priority"),e.find("option[value=high], option[value=високий]").each(function(){return $(this).css("background-color","#FFE5B4")}),e.find("option[value=medium], option[value=середній]").each(function(){return $(this).css("background-color","#FFF8C6")}),e.find("option[value=low], option[value=низький]").each(function(){return $(this).css("background-color","rgba(255, 255, 233, 0.8)")}),e.change(function(){var e,t;return t=$(this).find("option:selected").text(),e=function(){switch(t){case"high":case"високий":return"#FFE5B4";case"medium":case"середній":return"#FFF8C6";case"low":case"низький":return"rgba(255, 255, 233, 0.8)"}}(),$(this).css("background",e)})})})(),this.trigger_on_edit=o=function(e,t,i){var n,o,s,r,c,a,d,l,u,p,h,v;switch($("div#description"+e).attr("contenteditable","true"),h=$("div#priority"+e),h.parent().attr("class").match(/низький|високий|середній/)?(o="високий",l="середній",a="низький"):(o="high",l="medium",a="low"),h.text()){case"high":n="selected";break;case"високий":n="selected";break;case"medium":d="selected";break;case"середній":d="selected";break;case"low":c="selected";break;case"низький":c="selected"}switch(h.replaceWith('<select class="embedded">'+("<option "+n+" >")+(""+o+"</option>")+("<option "+d+" >")+(""+l+"</option>")+("<option "+c+">")+(""+a+"</option></select>")),v=$("div#status"+e),v.parent().attr("class").match(/в процесі|активна/)?(p="активна",r="в процесі"):(p="open",r="in progress"),v.text()){case"open":case"активна":u="selected";break;case"in progress":case"в процесі":s="selected"}return v.replaceWith('<select class="embedded">'+("<option "+u+">")+(""+p+"</option>")+("<option "+s+">")+(""+r+"</option></select>")),$("tr."+e).removeAttr("onmouseout"),$(i).attr("disabled","disabled"),$(".okay"+e).show(),$("button."+t).show()},this.trigger_on_ok=s=function(e,t,i){var n,o,s;return $("div#description"+t).attr("contenteditable","false"),n=$("div#description"+t).text(),o=$("select :selected").slice(1,2).text(),s=$("select :selected").slice(2,3).text(),$("select").slice(1,2).replaceWith("<div>"+o+"</div>"),$("select").slice(1,2).replaceWith("<div>"+s+"</div>"),$(e).hide(),$("button."+i).hide(),$("#for_edit_"+t).find(".items").css("font-weight","lighter"),$("tr."+t).attr("onmouseout","hide_actions("+t+"), unbold(this)"),$("."+t+"_action").removeAttr("disabled"),$.ajax({type:"POST",url:"/todo/update_task",data:{id:t,description:n,priority:o,status:s}}).done(function(){return $.easyNotification({text:"task updated"})})},this.trigger_on_cancel=n=function(e,t){var i,n,o,s,r,c,a;return r=$(e).attr("id")+"_span",n="description"+r,c="priority"+r,a="status"+r,i=document.getElementById(n).textContent,o=document.getElementById(c).textContent,s=document.getElementById(a).textContent,$("div#description"+t).attr("contenteditable","false"),$("div#description"+t).replaceWith("<div>"+i+"</div>"),$("select").slice(1,2).replaceWith("<div>"+o+"</div>"),$("select").slice(1,2).replaceWith("<div>"+s+"</div>"),$(e).hide(),$(".okay"+t).hide(),$("#for_edit_"+t).find(".items").css("font-weight","lighter"),$("tr."+t).attr("onmouseout","hide_actions("+t+"), unbold(this)"),$("."+t+"_action").removeAttr("disabled"),$.ajax({type:"GET",url:"/"})},this.set_noneditable=i=function(e){return"description"===$(e).parent().attr("id")?$(e).attr("contenteditable","false"):void 0}}).call(this);